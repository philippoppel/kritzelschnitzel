<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Kritzelkomplott</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
    }

    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      max-width: 500px;
      width: 100%;
      max-height: 95vh;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .header {
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: white;
      padding: 20px 15px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    h1 {
      font-size: 1.8em;
      margin-bottom: 5px;
    }

    .subtitle {
      opacity: 0.95;
      font-size: 0.9em;
    }

    .game-area {
      padding: 20px 15px;
    }

    .screen {
      display: none;
    }

    .screen.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    h2 {
      color: #ff6b6b;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .player-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 15px;
      min-height: 40px;
    }

    .player-tag {
      background: linear-gradient(135deg, #ff6b6b20, #feca5720);
      padding: 8px 12px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.95em;
      border: 2px solid #ff6b6b30;
    }

    .remove-player {
      background: #ff4444;
      color: white;
      border: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 11px;
    }

    .add-player-form {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
    }

    input[type="text"] {
      flex: 1;
      padding: 12px;
      border: 2px solid #ff6b6b30;
      border-radius: 12px;
      font-size: 16px;
      -webkit-appearance: none;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #ff6b6b;
    }

    .btn {
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      -webkit-appearance: none;
      width: 100%;
    }

    .btn:active {
      transform: scale(0.98);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: #f0f0f0;
      color: #333;
    }

    .btn-small {
      padding: 8px 16px;
      font-size: 14px;
      width: auto;
    }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin: 15px 0;
    }

    .category-btn {
      padding: 15px 10px;
      border: 2px solid #ff6b6b30;
      background: white;
      border-radius: 12px;
      cursor: pointer;
      text-align: center;
      font-size: 0.95em;
    }

    .category-btn:active {
      transform: scale(0.95);
    }

    .category-btn.selected {
      border-color: #ff6b6b;
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: white;
    }

    .pass-device {
      background: #333;
      color: white;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      margin: 20px 0;
    }

    .pass-device-icon {
      font-size: 3em;
      margin-bottom: 15px;
    }

    .player-name-display {
      font-size: 1.8em;
      font-weight: bold;
      margin: 15px 0;
    }

    .role-card {
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin: 20px 0;
      text-align: center;
    }

    .role-title {
      font-size: 1.3em;
      margin-bottom: 10px;
    }

    .secret-word {
      font-size: 1.8em;
      font-weight: bold;
      margin: 15px 0;
      padding: 15px;
      background: rgba(255,255,255,0.2);
      border-radius: 10px;
    }

    .canvas-container {
      border: 3px solid #ff6b6b30;
      border-radius: 12px;
      margin: 15px 0;
      background: white;
      touch-action: none;
    }

    canvas {
      display: block;
      width: 100%;
      height: 300px;
      border-radius: 10px;
      cursor: crosshair;
    }

    .drawing-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      gap: 10px;
    }

    .color-picker {
      display: flex;
      gap: 8px;
    }

    .color-btn {
      width: 35px;
      height: 35px;
      border: 3px solid transparent;
      border-radius: 50%;
      cursor: pointer;
    }

    .color-btn.selected {
      border-color: #333;
      transform: scale(1.1);
    }

    .turn-indicator {
      background: linear-gradient(135deg, #ff6b6b20, #feca5720);
      padding: 15px;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 15px;
      border: 2px solid #ff6b6b30;
    }

    .current-turn {
      font-size: 1.2em;
      color: #ff6b6b;
      font-weight: bold;
    }

    .stroke-counter {
      background: white;
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.9em;
      margin-top: 10px;
      display: inline-block;
    }

    .instructions {
      background: #fff8f0;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 15px;
      border-left: 4px solid #feca57;
      font-size: 0.9em;
    }

    .voting-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin: 15px 0;
    }

    .vote-btn {
      padding: 15px;
      border: 3px solid #ff6b6b30;
      background: white;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1em;
      font-weight: 600;
    }

    .vote-btn.voted {
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: white;
      border-color: #ff6b6b;
    }

    .result-title {
      font-size: 1.5em;
      margin-bottom: 15px;
      text-align: center;
    }

    .success {
      color: #4CAF50;
    }

    .failure {
      color: #ff4444;
    }

    @media (max-width: 380px) {
      h1 { font-size: 1.5em; }
      .category-grid { grid-template-columns: 1fr; }
      .voting-grid { grid-template-columns: 1fr; }
      .color-btn { width: 30px; height: 30px; }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>üé® Kritzelkomplott</h1>
    <p class="subtitle">Der Schwindler zeichnet mit!</p>
  </div>

  <div class="game-area">
    <!-- Setup Screen -->
    <div class="screen active" id="setupScreen">
      <div class="player-setup">
        <h2>Spieler (3-8)</h2>
        <div class="add-player-form">
          <input type="text" id="playerNameInput" placeholder="Name eingeben..." maxlength="12">
          <button class="btn btn-small" onclick="addPlayer()">+</button>
        </div>
        <div class="player-list" id="playerList">
          <span style="color: #999;">Noch keine Spieler</span>
        </div>
      </div>

      <div class="word-categories">
        <h2>Kategorie w√§hlen</h2>
        <div class="category-grid">
          <div class="category-btn" onclick="selectCategory('Tiere')">üêæ Tiere</div>
          <div class="category-btn" onclick="selectCategory('Essen')">üçï Essen</div>
          <div class="category-btn" onclick="selectCategory('Objekte')">üé∏ Objekte</div>
          <div class="category-btn" onclick="selectCategory('Orte')">üèñÔ∏è Orte</div>
          <div class="category-btn" onclick="selectCategory('Sport')">‚öΩ Sport</div>
          <div class="category-btn" onclick="selectCategory('M√§rchen')">üè∞ M√§rchen</div>
        </div>
      </div>

      <button class="btn" id="startBtn" onclick="startGame()" disabled>Spiel starten</button>
    </div>

    <!-- Pass Device Screen -->
    <div class="screen" id="passDeviceScreen">
      <div class="pass-device">
        <div class="pass-device-icon">üì±</div>
        <h2>Ger√§t weitergeben an:</h2>
        <div class="player-name-display" id="nextPlayerName"></div>
      </div>
      <button class="btn" onclick="confirmPlayer()">Ja, ich bin's!</button>
    </div>

    <!-- Role Screen -->
    <div class="screen" id="roleScreen">
      <div class="role-card">
        <div class="role-title" id="roleTitle"></div>
        <div class="secret-word" id="secretInfo"></div>
        <p id="roleDescription"></p>
      </div>
      <button class="btn" onclick="roleUnderstood()">Verstanden! ü§´</button>
    </div>

    <!-- Drawing Screen -->
    <div class="screen" id="drawingScreen">
      <div class="turn-indicator">
        <div class="current-turn" id="currentTurn"></div>
        <div class="stroke-counter" id="strokeCounter"></div>
      </div>

      <div class="drawing-controls">
        <div class="color-picker">
          <div class="color-btn selected" style="background: black" onclick="selectColor('black', this)"></div>
          <div class="color-btn" style="background: red" onclick="selectColor('red', this)"></div>
          <div class="color-btn" style="background: blue" onclick="selectColor('blue', this)"></div>
          <div class="color-btn" style="background: green" onclick="selectColor('green', this)"></div>
          <div class="color-btn" style="background: orange" onclick="selectColor('orange', this)"></div>
        </div>
        <button class="btn btn-small btn-secondary" onclick="endTurn()" id="endTurnBtn" disabled>Fertig ‚úì</button>
      </div>

      <div class="canvas-container">
        <canvas id="drawingCanvas"></canvas>
      </div>

      <div class="instructions">
        <strong>Regel:</strong> Ein Strich pro Person - nicht absetzen!
      </div>
    </div>

    <!-- Voting Screen -->
    <div class="screen" id="votingScreen">
      <h2 style="color: #ff6b6b; text-align: center;">Wer ist der Schwindler? üïµÔ∏è</h2>

      <div class="canvas-container">
        <canvas id="votingCanvas"></canvas>
      </div>

      <p style="text-align: center; margin: 15px 0;">Diskutiert und stimmt geheim ab:</p>
      <div class="voting-grid" id="votingGrid"></div>

      <div id="voteStatus" style="text-align: center; margin: 15px 0; font-weight: bold;"></div>

      <button class="btn" onclick="revealResult()" id="revealBtn" style="display: none;">Ergebnis zeigen</button>
    </div>

    <!-- Reveal Screen -->
    <div class="screen" id="revealScreen">
      <h2 class="result-title" id="resultTitle"></h2>
      <p id="resultMessage" style="text-align: center; margin: 15px 0;"></p>

      <div id="finalGuess" style="display: none; text-align: center; margin: 20px 0;">
        <h3>Letzte Chance! üéØ</h3>
        <p>Der Schwindler kann noch gewinnen:</p>
        <input type="text" id="guessInput" placeholder="Was wurde gezeichnet?" style="margin: 10px 0;">
        <button class="btn btn-small" onclick="checkFinalGuess()">Raten!</button>
      </div>

      <div id="finalResult" style="display: none; text-align: center;">
        <h3 id="finalResultTitle"></h3>
        <p id="finalResultMessage" style="font-size: 1.3em; margin: 15px 0;"></p>
      </div>

      <button class="btn" onclick="resetGame()" style="margin-top: 20px;">Neue Runde</button>
    </div>
  </div>
</div>

<script>
  // Game State
  const game = {
    players: [],
    currentCategory: '',
    secretWord: '',
    fakeArtistIndex: -1,
    currentPlayerIndex: 0,
    currentTurnPlayer: 0,
    round: 1,
    strokeCount: 0,
    maxStrokes: 0,
    votes: {},
    voteCount: 0,
    selectedColor: 'black',
    isDrawing: false,
    hasDrawnThisTurn: false,
    canvas: null,
    ctx: null,
    votingCanvas: null,
    votingCtx: null
  };

  const words = {
    'Tiere': ['Katze', 'Elefant', 'Pinguin', 'Giraffe', 'Schmetterling', 'Hai', 'Spinne', 'L√∂we'],
    'Essen': ['Pizza', 'Banane', 'Hamburger', 'Eis', 'Sushi', 'Apfel', 'Nudeln', 'Donut'],
    'Objekte': ['Gitarre', 'Fahrrad', 'Brille', 'Uhr', 'Schl√ºssel', 'Handy', 'Lampe', 'Stuhl'],
    'Orte': ['Strand', 'Berg', 'Schule', 'Flughafen', 'Kirche', 'Spielplatz', 'Bahnhof', 'Wald'],
    'Sport': ['Fu√üball', 'Tennis', 'Schwimmen', 'Basketball', 'Ski', 'Boxen', 'Golf', 'Tanzen'],
    'M√§rchen': ['Drache', 'Prinzessin', 'Schloss', 'Zauberstab', 'Hexe', 'Ritter', 'Einhorn', 'Krone']
  };

  // Helper Functions
  function showScreen(screenId) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(screenId).classList.add('active');
  }

  function addPlayer() {
    const input = document.getElementById('playerNameInput');
    const name = input.value.trim();

    if (name && game.players.length < 8) {
      if (game.players.includes(name)) {
        alert('Name existiert bereits!');
        return;
      }
      game.players.push(name);
      input.value = '';
      updatePlayerList();
    }
  }

  function removePlayer(index) {
    game.players.splice(index, 1);
    updatePlayerList();
  }

  function updatePlayerList() {
    const list = document.getElementById('playerList');
    if (game.players.length === 0) {
      list.innerHTML = '<span style="color: #999;">Noch keine Spieler</span>';
    } else {
      list.innerHTML = game.players.map((p, i) => `
                    <div class="player-tag">
                        ${p}
                        <button class="remove-player" onclick="removePlayer(${i})">√ó</button>
                    </div>
                `).join('');
    }
    checkStartButton();
  }

  function selectCategory(category) {
    game.currentCategory = category;
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.classList.remove('selected');
      if (btn.textContent.includes(category)) {
        btn.classList.add('selected');
      }
    });
    checkStartButton();
  }

  function checkStartButton() {
    const startBtn = document.getElementById('startBtn');
    if (game.players.length >= 3 && game.currentCategory) {
      startBtn.disabled = false;
      startBtn.textContent = 'üéÆ Los geht\'s!';
    } else {
      startBtn.disabled = true;
      if (game.players.length < 3) {
        startBtn.textContent = `Noch ${3 - game.players.length} Spieler fehlen`;
      } else {
        startBtn.textContent = 'Kategorie w√§hlen';
      }
    }
  }

  function startGame() {
    if (game.players.length < 3 || !game.currentCategory) return;

    const categoryWords = words[game.currentCategory];
    game.secretWord = categoryWords[Math.floor(Math.random() * categoryWords.length)];
    game.fakeArtistIndex = Math.floor(Math.random() * game.players.length);
    game.currentPlayerIndex = 0;
    game.maxStrokes = game.players.length * 2;

    document.getElementById('nextPlayerName').textContent = game.players[0];
    showScreen('passDeviceScreen');
  }

  function confirmPlayer() {
    const roleTitle = document.getElementById('roleTitle');
    const secretInfo = document.getElementById('secretInfo');
    const roleDesc = document.getElementById('roleDescription');

    if (game.currentPlayerIndex === game.fakeArtistIndex) {
      roleTitle.textContent = 'üé≠ Du bist der SCHWINDLER!';
      secretInfo.textContent = `Kategorie: ${game.currentCategory}`;
      roleDesc.textContent = 'T√§usche die anderen!';
    } else {
      roleTitle.textContent = '‚úèÔ∏è Du bist K√ºnstler';
      secretInfo.textContent = game.secretWord;
      roleDesc.textContent = 'Zeige dass du es wei√üt!';
    }

    showScreen('roleScreen');
  }

  function roleUnderstood() {
    game.currentPlayerIndex++;

    if (game.currentPlayerIndex < game.players.length) {
      document.getElementById('nextPlayerName').textContent = game.players[game.currentPlayerIndex];
      showScreen('passDeviceScreen');
    } else {
      showScreen('drawingScreen');
      setupCanvas();
      game.currentTurnPlayer = 0;
      game.round = 1;
      game.strokeCount = 0;
      updateTurnIndicator();
    }
  }

  function setupCanvas() {
    game.canvas = document.getElementById('drawingCanvas');
    game.ctx = game.canvas.getContext('2d');

    const rect = game.canvas.getBoundingClientRect();
    game.canvas.width = rect.width;
    game.canvas.height = 300;

    game.ctx.lineWidth = 3;
    game.ctx.lineCap = 'round';
    game.ctx.strokeStyle = game.selectedColor;

    game.ctx.fillStyle = 'white';
    game.ctx.fillRect(0, 0, game.canvas.width, game.canvas.height);

    game.canvas.addEventListener('mousedown', handleStart);
    game.canvas.addEventListener('mousemove', handleMove);
    game.canvas.addEventListener('mouseup', handleEnd);
    game.canvas.addEventListener('mouseout', handleEnd);

    game.canvas.addEventListener('touchstart', handleStart, {passive: false});
    game.canvas.addEventListener('touchmove', handleMove, {passive: false});
    game.canvas.addEventListener('touchend', handleEnd);
  }

  function updateTurnIndicator() {
    document.getElementById('currentTurn').textContent =
            `${game.players[game.currentTurnPlayer]} zeichnet`;
    document.getElementById('strokeCounter').textContent =
            `Runde ${game.round} ‚Ä¢ Strich ${game.strokeCount + 1}/${game.maxStrokes}`;
  }

  function selectColor(color, element) {
    game.selectedColor = color;
    if (game.ctx) {
      game.ctx.strokeStyle = color;
    }

    document.querySelectorAll('.color-btn').forEach(btn => {
      btn.classList.remove('selected');
    });
    element.classList.add('selected');
  }

  function getCoordinates(e) {
    const rect = game.canvas.getBoundingClientRect();
    if (e.touches && e.touches.length > 0) {
      return {
        x: e.touches[0].clientX - rect.left,
        y: e.touches[0].clientY - rect.top
      };
    }
    return {
      x: e.clientX - rect.left,
      y: e.clientY - rect.top
    };
  }

  function handleStart(e) {
    e.preventDefault();
    if (game.hasDrawnThisTurn) return;

    game.isDrawing = true;
    game.hasDrawnThisTurn = true;
    document.getElementById('endTurnBtn').disabled = false;

    const coords = getCoordinates(e);
    game.ctx.beginPath();
    game.ctx.moveTo(coords.x, coords.y);
  }

  function handleMove(e) {
    e.preventDefault();
    if (!game.isDrawing) return;

    const coords = getCoordinates(e);
    game.ctx.lineTo(coords.x, coords.y);
    game.ctx.stroke();
  }

  function handleEnd(e) {
    if (e) e.preventDefault();
    game.isDrawing = false;
  }

  function endTurn() {
    if (!game.hasDrawnThisTurn) {
      alert('Du musst erst zeichnen!');
      return;
    }

    game.hasDrawnThisTurn = false;
    document.getElementById('endTurnBtn').disabled = true;
    game.strokeCount++;
    game.currentTurnPlayer++;

    if (game.currentTurnPlayer >= game.players.length) {
      game.currentTurnPlayer = 0;
      game.round++;
    }

    if (game.strokeCount >= game.maxStrokes) {
      startVoting();
    } else {
      updateTurnIndicator();
    }
  }

  function startVoting() {
    showScreen('votingScreen');

    game.votingCanvas = document.getElementById('votingCanvas');
    game.votingCtx = game.votingCanvas.getContext('2d');
    game.votingCanvas.width = game.canvas.width;
    game.votingCanvas.height = game.canvas.height;
    game.votingCtx.drawImage(game.canvas, 0, 0);

    const votingGrid = document.getElementById('votingGrid');
    votingGrid.innerHTML = game.players.map((p, i) => `
                <div class="vote-btn" onclick="registerVote(${i})">${p}</div>
            `).join('');

    game.votes = {};
    game.voteCount = 0;
    updateVoteStatus();
  }

  function registerVote(suspectIndex) {
    const voter = prompt('Wer bist du? (Dein Name)');
    if (!voter || !game.players.includes(voter)) {
      alert('Ung√ºltiger Name!');
      return;
    }

    if (game.votes[voter] !== undefined) {
      alert('Du hast bereits abgestimmt!');
      return;
    }

    game.votes[voter] = suspectIndex;
    game.voteCount++;

    document.querySelectorAll('.vote-btn')[suspectIndex].classList.add('voted');
    updateVoteStatus();

    if (game.voteCount >= game.players.length) {
      document.getElementById('revealBtn').style.display = 'block';
    }
  }

  function updateVoteStatus() {
    document.getElementById('voteStatus').textContent =
            `${game.voteCount} von ${game.players.length} Stimmen abgegeben`;
  }

  function revealResult() {
    showScreen('revealScreen');

    const voteCounts = {};
    for (let vote of Object.values(game.votes)) {
      voteCounts[vote] = (voteCounts[vote] || 0) + 1;
    }

    let mostVoted = -1;
    let maxVotes = 0;
    for (let [player, count] of Object.entries(voteCounts)) {
      if (count > maxVotes) {
        maxVotes = count;
        mostVoted = parseInt(player);
      }
    }

    const resultTitle = document.getElementById('resultTitle');
    const resultMessage = document.getElementById('resultMessage');

    if (mostVoted === game.fakeArtistIndex) {
      resultTitle.textContent = 'üéØ Schwindler enttarnt!';
      resultTitle.className = 'result-title success';
      resultMessage.textContent = `${game.players[game.fakeArtistIndex]} war der Schwindler!`;

      document.getElementById('finalGuess').style.display = 'block';
    } else {
      resultTitle.textContent = 'üòà Schwindler gewinnt!';
      resultTitle.className = 'result-title failure';
      resultMessage.textContent = `Falsch! ${game.players[game.fakeArtistIndex]} war der Schwindler!`;
      document.getElementById('finalResult').style.display = 'block';
      document.getElementById('finalResultTitle').textContent = 'Das Wort war:';
      document.getElementById('finalResultMessage').textContent = game.secretWord;
    }
  }

  function checkFinalGuess() {
    const guess = document.getElementById('guessInput').value.trim().toLowerCase();

    document.getElementById('finalGuess').style.display = 'none';
    document.getElementById('finalResult').style.display = 'block';

    if (guess === game.secretWord.toLowerCase()) {
      document.getElementById('finalResultTitle').textContent = 'üéä Schwindler triumphiert!';
      document.getElementById('finalResultTitle').className = 'success';
      document.getElementById('finalResultMessage').textContent = `Richtig! Es war: ${game.secretWord}`;
    } else {
      document.getElementById('finalResultTitle').textContent = 'üèÜ K√ºnstler gewinnen!';
      document.getElementById('finalResultTitle').className = 'success';
      document.getElementById('finalResultMessage').textContent = `Falsch! Es war: ${game.secretWord}`;
    }
  }

  function resetGame() {
    game.players = [];
    game.currentCategory = '';
    game.secretWord = '';
    game.fakeArtistIndex = -1;
    game.currentPlayerIndex = 0;
    game.currentTurnPlayer = 0;
    game.round = 1;
    game.strokeCount = 0;
    game.maxStrokes = 0;
    game.votes = {};
    game.voteCount = 0;
    game.selectedColor = 'black';
    game.isDrawing = false;
    game.hasDrawnThisTurn = false;

    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.classList.remove('selected');
    });
    document.getElementById('finalGuess').style.display = 'none';
    document.getElementById('finalResult').style.display = 'none';
    document.getElementById('guessInput').value = '';
    document.getElementById('revealBtn').style.display = 'none';

    showScreen('setupScreen');
    updatePlayerList();
    checkStartButton();
  }

  // Initialize on page load
  document.getElementById('playerNameInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      addPlayer();
    }
  });

  // Initialize
  updatePlayerList();
  checkStartButton();
</script>
</body>
</html>